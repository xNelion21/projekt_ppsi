{"version":3,"file":"BAccordion.vue_vue_type_script_setup_true_lang-CQUY5qZj.js","sources":["../src/components/BAccordion/BAccordionItem.vue","../src/components/BAccordion/BAccordion.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"_el\"\n    class=\"accordion-item\"\n    v-bind=\"props.wrapperAttrs\"\n    :class=\"processedAttrs.wrapperClass\"\n  >\n    <BCollapse\n      :id=\"computedId\"\n      v-model=\"modelValue\"\n      class=\"accordion-collapse\"\n      :class=\"props.collapseClass\"\n      :aria-labelledby=\"`${computedId}-heading`\"\n      v-bind=\"processedAttrs.collapseAttrs\"\n      :tag=\"props.tag\"\n      :show=\"props.show\"\n      :horizontal=\"props.horizontal\"\n      :visible=\"props.visible\"\n      :is-nav=\"props.isNav\"\n      :lazy=\"props.lazy || parentData?.lazy.value\"\n      :unmount-lazy=\"props.unmountLazy || parentData?.unmountLazy.value\"\n      @show=\"emit('show', $event)\"\n      @shown=\"emit('shown', $event)\"\n      @hide=\"emit('hide', $event)\"\n      @hidden=\"emit('hidden', $event)\"\n      @hide-prevented=\"emit('hide-prevented', $event)\"\n      @show-prevented=\"emit('show-prevented', $event)\"\n      @toggle-prevented=\"emit('toggle-prevented', $event)\"\n      @toggle=\"emit('toggle', $event)\"\n    >\n      <template #header=\"{visible: toggleVisible, toggle: slotToggle}\">\n        <component\n          :is=\"props.headerTag\"\n          :id=\"`${computedId}-heading`\"\n          class=\"accordion-header\"\n          :class=\"props.headerClass\"\n          v-bind=\"props.headerAttrs\"\n        >\n          <button\n            class=\"accordion-button\"\n            v-bind=\"props.buttonAttrs\"\n            :class=\"[{collapsed: !toggleVisible}, props.buttonClass]\"\n            type=\"button\"\n            :aria-expanded=\"toggleVisible ? 'true' : 'false'\"\n            :aria-controls=\"computedId\"\n            @click=\"slotToggle\"\n          >\n            <slot name=\"title\"> {{ props.title }} </slot>\n          </button>\n        </component>\n      </template>\n      <div class=\"accordion-body\" v-bind=\"props.bodyAttrs\" :class=\"props.bodyClass\">\n        <slot />\n      </div>\n    </BCollapse>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  computed,\n  inject,\n  nextTick,\n  onMounted,\n  onUnmounted,\n  useAttrs,\n  useTemplateRef,\n  watch,\n} from 'vue'\nimport BCollapse from '../BCollapse/BCollapse.vue'\nimport {accordionInjectionKey} from '../../utils/keys'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useId} from '../../composables/useId'\nimport type {BAccordionItemProps} from '../../types/ComponentProps'\nimport type {BCollapseEmits} from '../../types/ComponentEmits'\n\ndefineOptions({\n  inheritAttrs: false,\n})\nconst attrs = useAttrs()\nconst processedAttrs = computed(() => {\n  const {class: wrapperClass, ...collapseAttrs} = attrs\n  return {wrapperClass, collapseAttrs}\n})\n\nconst _props = withDefaults(defineProps<Omit<BAccordionItemProps, 'modelValue'>>(), {\n  bodyAttrs: undefined,\n  bodyClass: undefined,\n  buttonAttrs: undefined,\n  buttonClass: undefined,\n  collapseClass: undefined,\n  headerAttrs: undefined,\n  headerClass: undefined,\n  headerTag: 'h2',\n  horizontal: undefined,\n  id: undefined,\n  isNav: undefined,\n  lazy: false,\n  unmountLazy: false,\n  tag: undefined,\n  title: undefined,\n  show: undefined,\n  visible: false,\n  wrapperAttrs: undefined,\n})\nconst props = useDefaults(_props, 'BAccordionItem')\n\nconst emit = defineEmits<BCollapseEmits>()\n\ndefineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  title?: (props: Record<string, never>) => any\n}>()\n\nconst parentData = inject(accordionInjectionKey, null)\n\nconst computedId = useId(() => props.id, 'accordion_item')\n\nconst modelValue = defineModel<Exclude<BAccordionItemProps['modelValue'], undefined>>({\n  default: false,\n})\n\nif (modelValue.value) {\n  parentData?.setOpenItem(computedId.value)\n} else {\n  modelValue.value =\n    (Array.isArray(parentData?.openItem.value)\n      ? parentData?.openItem.value.includes(computedId.value)\n      : parentData?.openItem.value === computedId.value) && !parentData?.initialAnimation.value\n}\n\nconst el = useTemplateRef<HTMLElement>('_el')\nparentData?.registerAccordionItem(computedId.value, el)\n\nonUnmounted(() => {\n  parentData?.unregisterAccordionItem(computedId.value)\n})\n\nonMounted(() => {\n  if (!modelValue.value && parentData?.openItem.value === computedId.value) {\n    nextTick(() => {\n      modelValue.value = true\n    })\n  }\n})\n\nconst openInParent = computed(() =>\n  Array.isArray(parentData?.openItem.value)\n    ? parentData?.openItem.value.includes(computedId.value)\n    : parentData?.openItem.value === computedId.value\n)\n\nwatch(\n  () => parentData?.openItem.value,\n  () => (modelValue.value = openInParent.value)\n)\nwatch(modelValue, () => {\n  if (modelValue.value && !openInParent.value) {\n    parentData?.setOpenItem(computedId.value)\n  } else if (!modelValue.value && openInParent.value) {\n    parentData?.setCloseItem(computedId.value)\n  }\n})\n</script>\n","<template>\n  <div :id=\"computedId\" class=\"accordion\" :class=\"computedClasses\">\n    <slot />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  computed,\n  nextTick,\n  provide,\n  ref,\n  type ShallowRef,\n  shallowRef,\n  toRef,\n  unref,\n  type VNode,\n  watch,\n} from 'vue'\nimport {accordionInjectionKey} from '../../utils/keys'\nimport {useId} from '../../composables/useId'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BAccordionProps} from '../../types/ComponentProps'\nimport {flattenFragments} from '../../utils/flattenFragments'\nimport BAccordionItem from './BAccordionItem.vue'\nimport {sortSlotElementsByPosition} from '../../utils/dom'\n\nconst _props = withDefaults(defineProps<Omit<BAccordionProps, 'modelValue' | 'index'>>(), {\n  flush: false,\n  free: false,\n  initialAnimation: false,\n  id: undefined,\n  lazy: false,\n  unmountLazy: false,\n})\n\nconst slots = defineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n}>()\n\nconst props = useDefaults(_props, 'BAccordion')\n\nconst modelValue = defineModel<BAccordionProps['modelValue']>({\n  default: undefined,\n})\n\nconst index = defineModel<BAccordionProps['index']>('index', {\n  default: undefined,\n})\n\nconst itemElementsArray = ref<VNode[]>([])\n\nconst updateItemElementsArray = () => {\n  const itemElements = flattenFragments(slots.default?.({}) ?? [])\n  itemElementsArray.value = (Array.isArray(itemElements) ? itemElements : [itemElements]).filter(\n    (item) => item.type === BAccordionItem\n  )\n}\nupdateItemElementsArray()\n\nwatch(\n  () => slots.default?.({}),\n  () => {\n    updateItemElementsArray()\n    nextTick(() => {\n      sortAccordionItems()\n    })\n  }\n)\n\ninterface AccordionItem {\n  id: string\n  el: Readonly<ShallowRef<HTMLElement | null>>\n}\n\nconst accordionItems = shallowRef<AccordionItem[]>([])\n\nconst sortAccordionItems = () => {\n  accordionItems.value = accordionItems.value.sort((a, b) =>\n    sortSlotElementsByPosition(unref(a.el), unref(b.el))\n  )\n  if (modelValue.value) {\n    if (Array.isArray(modelValue.value)) {\n      const next = modelValue.value\n        .map((id) => accordionItems.value.findIndex((item) => item.id === id))\n        .filter((i) => i !== -1)\n\n      if (next.length !== modelValue.value.length) {\n        if (import.meta.env.DEV) {\n          console.warn('[BAccordion] Unknown item id in v-model:', modelValue.value)\n        }\n      }\n      index.value = next\n    } else {\n      const idx = accordionItems.value.findIndex((item) => item.id === modelValue.value)\n      if (idx !== -1) index.value = idx\n    }\n  } else if (index.value !== undefined) {\n    modelValue.value = Array.isArray(index.value)\n      ? index.value.map((idx) => accordionItems.value[idx]?.id)\n      : accordionItems.value[index.value]?.id\n  }\n}\n\nconst computedId = useId(() => props.id, 'accordion')\n\nconst computedClasses = computed(() => ({\n  'accordion-flush': props.flush,\n}))\n\nconst areEqual = (a: unknown, b: unknown) => {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.length === b.length && a.every((item, index) => item === b[index])\n  }\n  return a === b\n}\n\nwatch(\n  () => index.value,\n  (newValue, oldValue) => {\n    if (areEqual(newValue, oldValue)) return\n    if (index.value === undefined) {\n      modelValue.value = undefined\n      return\n    }\n\n    if (!props.free) {\n      const idx = !Array.isArray(index.value) ? index.value : index.value?.[0]\n      if (accordionItems.value[idx]?.id) {\n        if (modelValue.value !== accordionItems.value[idx]?.id) {\n          modelValue.value = accordionItems.value[idx]?.id\n        }\n      } else {\n        nextTick(() => {\n          index.value = undefined\n        })\n      }\n    } else {\n      // free mode\n      if (Array.isArray(index.value)) {\n        const newValue = index.value.map((item) => accordionItems.value[item]?.id)\n        if (!areEqual(newValue, modelValue.value)) {\n          modelValue.value = newValue\n        }\n      } else {\n        const newValue = accordionItems.value[index.value]?.id\n        if (newValue === undefined) {\n          nextTick(() => {\n            index.value = undefined\n          })\n          return\n        }\n        if (!areEqual(newValue, modelValue.value)) {\n          modelValue.value = newValue\n        }\n      }\n    }\n  }\n)\n\nwatch(\n  () => modelValue.value,\n  (newValue, oldValue) => {\n    if (areEqual(newValue, oldValue)) return\n    if (modelValue.value === undefined) {\n      index.value = undefined\n      return\n    }\n\n    if (!props.free) {\n      const idx = !Array.isArray(modelValue.value)\n        ? accordionItems.value.findIndex((item) => item.id === modelValue.value)\n        : accordionItems.value.findIndex((item) => item.id === modelValue.value?.[0])\n      if (idx !== -1) {\n        if (index.value !== idx) {\n          index.value = idx\n        }\n      } else {\n        nextTick(() => {\n          modelValue.value = undefined\n        })\n      }\n    } else if (props.free) {\n      if (Array.isArray(modelValue.value)) {\n        const idxes = modelValue.value\n          .map((value) => accordionItems.value.findIndex((item) => item.id === value))\n          .filter((index) => index !== -1)\n        if (idxes.length > 0) {\n          if (!areEqual(idxes, index.value)) {\n            index.value = idxes\n          }\n        } else {\n          nextTick(() => {\n            modelValue.value = undefined\n          })\n        }\n      } else {\n        const newValue = accordionItems.value.findIndex((item) => item.id === modelValue.value)\n        if (!areEqual(newValue, index.value)) {\n          index.value = newValue\n        }\n      }\n    }\n  },\n  {deep: true}\n)\n\nwatch(\n  () => props.free,\n  (free) => {\n    if (modelValue.value) {\n      if (!free && Array.isArray(modelValue.value)) {\n        modelValue.value = modelValue.value[0]\n      } else if (free && !Array.isArray(modelValue.value)) {\n        modelValue.value = [modelValue.value]\n      }\n    }\n  }\n)\n\nprovide(accordionInjectionKey, {\n  openItem: toRef(() => modelValue.value),\n  free: toRef(() => props.free),\n  initialAnimation: toRef(() => props.initialAnimation),\n  lazy: toRef(() => props.lazy),\n  unmountLazy: toRef(() => props.unmountLazy),\n  setOpenItem: (id: string) => {\n    if (props.free && !Array.isArray(modelValue.value)) {\n      if (modelValue.value !== undefined) {\n        modelValue.value = [modelValue.value, id]\n      } else {\n        modelValue.value = [id]\n      }\n      return\n    }\n    if (!props.free && Array.isArray(modelValue.value)) {\n      modelValue.value = id\n      return\n    }\n    if (Array.isArray(modelValue.value)) {\n      if (!modelValue.value.includes(id)) {\n        modelValue.value = [...modelValue.value, id]\n      }\n    } else {\n      modelValue.value = id\n    }\n  },\n  setCloseItem: (id: string) => {\n    if (!props.free && Array.isArray(modelValue.value)) {\n      modelValue.value = undefined\n      return\n    }\n    if (Array.isArray(modelValue.value)) {\n      const next = modelValue.value.filter((item) => item !== id)\n      modelValue.value = next.length ? next : undefined\n    } else {\n      if (modelValue.value === id) {\n        modelValue.value = undefined\n      }\n    }\n  },\n  registerAccordionItem: (id: string, el: Readonly<ShallowRef<HTMLElement | null>>) => {\n    accordionItems.value = [...accordionItems.value, {id, el}]\n    if (accordionItems.value.length === itemElementsArray.value.length) {\n      sortAccordionItems()\n    }\n  },\n  unregisterAccordionItem: (id: string) => {\n    accordionItems.value = accordionItems.value.filter((item) => item.id !== id)\n  },\n})\n</script>\n"],"names":["attrs","useAttrs","processedAttrs","computed","class","wrapperClass","collapseAttrs","_props","__props","props","useDefaults","emit","__emit","parentData","inject","accordionInjectionKey","computedId","useId","id","modelValue","_useModel","value","setOpenItem","Array","isArray","openItem","includes","initialAnimation","el","useTemplateRef","registerAccordionItem","onUnmounted","unregisterAccordionItem","onMounted","nextTick","openInParent","vue","watch","setCloseItem","slots","_useSlots","index","itemElementsArray","ref","updateItemElementsArray","itemElements","flattenFragments","_a","default","call","filter","item","type","BAccordionItem","sortAccordionItems","accordionItems","shallowRef","sort","a","b","sortSlotElementsByPosition","unref","next","map","findIndex","i","length","idx","computedClasses","flush","areEqual","every","newValue","oldValue","free","_e","_b","_c","_d","idxes","deep","provide","toRef","lazy","unmountLazy"],"mappings":"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"}