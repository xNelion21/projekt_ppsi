"use strict";const e=require("vue"),t=require("./useDefaults-q0yyNSBk.js"),o=require("./BButton.vue_vue_type_script_setup_true_lang-B7BDuhWq.js"),a=require("./BLink.vue_vue_type_script_setup_true_lang-DSI0NL_h.js"),l=require("./BCloseButton.vue_vue_type_script_setup_true_lang-DZGcyqBT.js"),r=require("./BProgress.vue_vue_type_script_setup_true_lang-BzP4tktA.js"),s=require("./useCountdownHover-BuzhN8vi.js"),n=require("./useColorVariantClasses-CE658Sm0.js"),i=require("./useId-CVpYZavN.js"),u=require("./useShowHide-DS_Hoj66.js"),d=require("./_plugin-vue_export-helper-CC_fc8JW.js"),c=require("./ConditionalTeleport.vue_vue_type_script_lang-DOGq8bM-.js"),p=require("./src/composables/useToastController/index.umd.js"),f=["id","role","aria-live","aria-atomic"],v={key:1,class:"d-flex"},m=e.defineComponent({__name:"BToast",props:e.mergeModels({body:{default:void 0},bodyClass:{default:void 0},closeClass:{default:void 0},closeContent:{default:void 0},closeLabel:{default:"Close"},closeVariant:{default:"secondary"},headerClass:{default:void 0},headerTag:{default:"div"},id:{default:void 0},interval:{default:"requestAnimationFrame"},isStatus:{type:Boolean,default:!1},noCloseButton:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},noResumeOnHoverLeave:{type:Boolean,default:!1},progressProps:{default:void 0},showOnPause:{type:Boolean,default:!0},solid:{type:Boolean,default:!1},title:{default:void 0},toastClass:{default:void 0},variant:{default:void 0},bgVariant:{default:null},textVariant:{default:null},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean,default:void 0},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:[Boolean,Number],default:!1},modelModifiers:{}}),emits:e.mergeModels(["close","close-countdown","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented"],["update:modelValue"]),setup(d,{expose:c,emit:p}){const m=d,y=t.useDefaults(m,"BToast"),B=p,_=e.useSlots(),h=e.useTemplateRef("_element"),C=e.useModel(d,"modelValue"),{computedLink:g,computedLinkProps:k}=a.useBLinkHelper(y),b=i.useId((()=>y.id),"toast"),{showRef:w,renderRef:P,hide:x,toggle:V,show:H,buildTriggerableEvent:T,computedNoAnimation:S,isVisible:N,transitionProps:D,contentShowing:O}=u.useShowHide(C,y,B,h,b),q=e.computed((()=>"boolean"==typeof C.value?0:C.value)),{isActive:L,pause:j,restart:z,resume:E,stop:R,isPaused:A,value:M}=s.useCountdown(q,y.interval,{immediate:"number"==typeof C.value&&!!C.value});s.useCountdownHover(h,e.computed((()=>({noHoverPause:y.noHoverPause||"number"!=typeof C.value,noResumeOnHoverLeave:y.noResumeOnHoverLeave||"number"!=typeof C.value,modelValueIgnoresHover:"boolean"==typeof C.value}))),{pause:j,resume:E}),e.watchEffect((()=>{B("close-countdown",M.value)}));const I=e.computed((()=>g.value?a._sfc_main:"div")),F=e.computed((()=>w.value||L.value||y.showOnPause&&A.value)),$=n.useColorVariantClasses(y),G=e.computed((()=>[$.value,{show:N.value,fade:!S.value}]));e.watch(C,(e=>{if("number"==typeof e){const e=T("show",{cancelable:!0,trigger:"model"});B("show",e),e.defaultPrevented?B("show-prevented",T("show-prevented")):z()}})),e.watch(L,(e=>{!1===e&&!1===A.value&&(x(),C.value=0,R())}));const W=e.computed((()=>({toggle:V,show:H,hide:x,id:b.value,visible:w.value,active:L.value})));return c({show:H,hide:x,toggle:V,pause:j,restart:z,resume:E,stop:R}),(t,a)=>{const s=o._sfc_main;return e.unref(P)||e.unref(O)?(e.openBlock(),e.createBlock(e.Transition,e.mergeProps({key:0},e.unref(D),{appear:!!C.value||e.unref(y).visible}),{default:e.withCtx((()=>[e.withDirectives(e.createElementVNode("div",{id:e.unref(y).id,ref:"_element",class:e.normalizeClass(["toast",[e.unref(y).toastClass,G.value]]),tabindex:"0",style:{display:"block"},role:F.value?e.unref(y).isStatus?"status":"alert":void 0,"aria-live":F.value?e.unref(y).isStatus?"polite":"assertive":void 0,"aria-atomic":!!F.value||void 0},[e.unref(O)&&(_.title||e.unref(y).title)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(y).headerTag),{key:0,class:e.normalizeClass(["toast-header",e.unref(y).headerClass])},{default:e.withCtx((()=>[e.renderSlot(t.$slots,"title",e.normalizeProps(e.guardReactiveProps(W.value)),(()=>[e.createElementVNode("strong",null,e.toDisplayString(e.unref(y).title),1)]),!0),e.unref(y).noCloseButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[_.close||e.unref(y).closeContent?(e.openBlock(),e.createBlock(s,{key:0,class:e.normalizeClass([[e.unref(y).closeClass],"ms-auto"]),variant:e.unref(y).closeVariant,onClick:a[0]||(a[0]=e.withModifiers((t=>e.unref(x)("close")),["stop","prevent"]))},{default:e.withCtx((()=>[e.renderSlot(t.$slots,"close",e.normalizeProps(e.guardReactiveProps(W.value)),(()=>[e.createTextVNode(e.toDisplayString(e.unref(y).closeContent),1)]),!0)])),_:3},8,["class","variant"])):(e.openBlock(),e.createBlock(l._sfc_main,{key:1,"aria-label":e.unref(y).closeLabel,class:e.normalizeClass(["ms-auto",[e.unref(y).closeClass]]),onClick:a[1]||(a[1]=e.withModifiers((t=>e.unref(x)("close")),["stop","prevent"]))},null,8,["aria-label","class"]))],64))])),_:3},8,["class"])):e.createCommentVNode("",!0),e.unref(O)&&(_.default||e.unref(y).body)?(e.openBlock(),e.createElementBlock("div",v,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(I.value),e.mergeProps({class:["toast-body",e.unref(y).bodyClass]},e.unref(k),{onClick:a[2]||(a[2]=t=>e.unref(g)?e.unref(x)():()=>{})}),{default:e.withCtx((()=>[e.renderSlot(t.$slots,"default",e.normalizeProps(e.guardReactiveProps(W.value)),(()=>[e.createTextVNode(e.toDisplayString(e.unref(y).body),1)]),!0)])),_:3},16,["class"])),e.unref(y).noCloseButton||_.title||e.unref(y).title?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[_.close||e.unref(y).closeContent?(e.openBlock(),e.createBlock(s,{key:0,class:e.normalizeClass([[e.unref(y).closeClass],"ms-auto btn-close-custom"]),variant:e.unref(y).closeVariant,onClick:a[3]||(a[3]=e.withModifiers((t=>e.unref(x)("close")),["stop","prevent"]))},{default:e.withCtx((()=>[e.renderSlot(t.$slots,"close",e.normalizeProps(e.guardReactiveProps(W.value)),(()=>[e.createTextVNode(e.toDisplayString(e.unref(y).closeContent),1)]),!0)])),_:3},8,["class","variant"])):(e.openBlock(),e.createBlock(l._sfc_main,{key:1,"aria-label":e.unref(y).closeLabel,class:e.normalizeClass(["ms-auto btn-close-custom",[e.unref(y).closeClass]]),onClick:a[4]||(a[4]=e.withModifiers((t=>e.unref(x)("close")),["stop","prevent"]))},null,8,["aria-label","class"]))],64))])):e.createCommentVNode("",!0),"number"==typeof C.value&&void 0!==e.unref(y).progressProps?(e.openBlock(),e.createBlock(r._sfc_main,{key:2,animated:e.unref(y).progressProps.animated,precision:e.unref(y).progressProps.precision,"show-progress":e.unref(y).progressProps.showProgress,"show-value":e.unref(y).progressProps.showValue,striped:e.unref(y).progressProps.striped,variant:e.unref(y).progressProps.variant,max:C.value,value:e.unref(M),height:"4px"},null,8,["animated","precision","show-progress","show-value","striped","variant","max","value"])):e.createCommentVNode("",!0)],10,f),[[e.vShow,F.value]])])),_:3},16,["appear"])):e.createCommentVNode("",!0)}}}),y=d._export_sfc(m,[["__scopeId","data-v-3ca93592"]]),B={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},_=e.defineComponent({inheritAttrs:!1,__name:"BToastOrchestrator",props:{appendToast:{type:Boolean,default:!1},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"}},setup(o,{expose:a}){const l=o,r=t.useDefaults(l,"BToastOrchestrator"),s=p.useToastController();return s._isOrchestratorInstalled.value=!0,e.watch((()=>r.appendToast),(e=>{s._isAppend.value=e}),{immediate:!0}),a({...s}),(t,o)=>(e.openBlock(),e.createBlock(c._sfc_main,{to:e.unref(r).teleportTo,disabled:e.unref(r).teleportDisabled},{default:e.withCtx((()=>[e.createElementVNode("div",e.mergeProps({id:"__BVID__toaster-container"},t.$attrs),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(B),((t,o)=>(e.openBlock(),e.createElementBlock("div",{key:o,class:e.normalizeClass([t,"toast-container position-fixed p-3"]),style:{width:"calc(var(--bs-toast-max-width, 350px) + 2 * 1rem)"}},[e.createVNode(e.TransitionGroup,{name:"b-list"},{default:e.withCtx((()=>{var t;return[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((null==(t=e.unref(s).toasts)?void 0:t.value.filter((e=>e.position===o)))||[],(({_self:t,slots:o,promise:a,options:l,component:r,...s})=>(e.openBlock(),e.createElementBlock("span",{key:t},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r??y),e.mergeProps({ref_for:!0},s,{ref_for:!0,ref:e=>a.value.ref=e,"initial-animation":"","teleport-disabled":!0,onHide:e=>{var t,o;e.ok="close"!==e.trigger,null==(t=s.onHide)||t.call(s,e),e.defaultPrevented||(null==(o=a.stop)||o.call(a),(null==l?void 0:l.resolveOnHide)&&a.resolve(e))},onHidden:e=>{var t,o,r;e.ok="close"!==e.trigger,null==(t=s.onHidden)||t.call(s,e),e.defaultPrevented||((null==l?void 0:l.resolveOnHide)||a.resolve(e),(null==l?void 0:l.keep)||null==(r=(o=a.value).destroy)||r.call(o))}}),e.createSlots({_:2},[e.renderList(o,((t,o)=>({name:o,fn:e.withCtx((o=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(t),e.mergeProps({ref_for:!0},o),null,16))]))})))]),1040,["onHide","onHidden"]))])))),128))]})),_:2},1024)],2)))),128))],16)])),_:1},8,["to","disabled"]))}});exports.BToast=y,exports._sfc_main=_;
//# sourceMappingURL=BToastOrchestrator.vue_vue_type_style_index_0_lang-DnJNQgDd.js.map
