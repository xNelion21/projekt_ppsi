{"version":3,"file":"BAccordion.vue_vue_type_script_setup_true_lang-BnfizlLE.mjs","sources":["../src/components/BAccordion/BAccordionItem.vue","../src/components/BAccordion/BAccordion.vue"],"sourcesContent":["<template>\n  <div\n    ref=\"_el\"\n    class=\"accordion-item\"\n    v-bind=\"props.wrapperAttrs\"\n    :class=\"processedAttrs.wrapperClass\"\n  >\n    <BCollapse\n      :id=\"computedId\"\n      v-model=\"modelValue\"\n      class=\"accordion-collapse\"\n      :class=\"props.collapseClass\"\n      :aria-labelledby=\"`${computedId}-heading`\"\n      v-bind=\"processedAttrs.collapseAttrs\"\n      :tag=\"props.tag\"\n      :show=\"props.show\"\n      :horizontal=\"props.horizontal\"\n      :visible=\"props.visible\"\n      :is-nav=\"props.isNav\"\n      :lazy=\"props.lazy || parentData?.lazy.value\"\n      :unmount-lazy=\"props.unmountLazy || parentData?.unmountLazy.value\"\n      @show=\"emit('show', $event)\"\n      @shown=\"emit('shown', $event)\"\n      @hide=\"emit('hide', $event)\"\n      @hidden=\"emit('hidden', $event)\"\n      @hide-prevented=\"emit('hide-prevented', $event)\"\n      @show-prevented=\"emit('show-prevented', $event)\"\n      @toggle-prevented=\"emit('toggle-prevented', $event)\"\n      @toggle=\"emit('toggle', $event)\"\n    >\n      <template #header=\"{visible: toggleVisible, toggle: slotToggle}\">\n        <component\n          :is=\"props.headerTag\"\n          :id=\"`${computedId}-heading`\"\n          class=\"accordion-header\"\n          :class=\"props.headerClass\"\n          v-bind=\"props.headerAttrs\"\n        >\n          <button\n            class=\"accordion-button\"\n            v-bind=\"props.buttonAttrs\"\n            :class=\"[{collapsed: !toggleVisible}, props.buttonClass]\"\n            type=\"button\"\n            :aria-expanded=\"toggleVisible ? 'true' : 'false'\"\n            :aria-controls=\"computedId\"\n            @click=\"slotToggle\"\n          >\n            <slot name=\"title\"> {{ props.title }} </slot>\n          </button>\n        </component>\n      </template>\n      <div class=\"accordion-body\" v-bind=\"props.bodyAttrs\" :class=\"props.bodyClass\">\n        <slot />\n      </div>\n    </BCollapse>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  computed,\n  inject,\n  nextTick,\n  onMounted,\n  onUnmounted,\n  useAttrs,\n  useTemplateRef,\n  watch,\n} from 'vue'\nimport BCollapse from '../BCollapse/BCollapse.vue'\nimport {accordionInjectionKey} from '../../utils/keys'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useId} from '../../composables/useId'\nimport type {BAccordionItemProps} from '../../types/ComponentProps'\nimport type {BCollapseEmits} from '../../types/ComponentEmits'\n\ndefineOptions({\n  inheritAttrs: false,\n})\nconst attrs = useAttrs()\nconst processedAttrs = computed(() => {\n  const {class: wrapperClass, ...collapseAttrs} = attrs\n  return {wrapperClass, collapseAttrs}\n})\n\nconst _props = withDefaults(defineProps<Omit<BAccordionItemProps, 'modelValue'>>(), {\n  bodyAttrs: undefined,\n  bodyClass: undefined,\n  buttonAttrs: undefined,\n  buttonClass: undefined,\n  collapseClass: undefined,\n  headerAttrs: undefined,\n  headerClass: undefined,\n  headerTag: 'h2',\n  horizontal: undefined,\n  id: undefined,\n  isNav: undefined,\n  lazy: false,\n  unmountLazy: false,\n  tag: undefined,\n  title: undefined,\n  show: undefined,\n  visible: false,\n  wrapperAttrs: undefined,\n})\nconst props = useDefaults(_props, 'BAccordionItem')\n\nconst emit = defineEmits<BCollapseEmits>()\n\ndefineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  title?: (props: Record<string, never>) => any\n}>()\n\nconst parentData = inject(accordionInjectionKey, null)\n\nconst computedId = useId(() => props.id, 'accordion_item')\n\nconst modelValue = defineModel<Exclude<BAccordionItemProps['modelValue'], undefined>>({\n  default: false,\n})\n\nif (modelValue.value) {\n  parentData?.setOpenItem(computedId.value)\n} else {\n  modelValue.value =\n    (Array.isArray(parentData?.openItem.value)\n      ? parentData?.openItem.value.includes(computedId.value)\n      : parentData?.openItem.value === computedId.value) && !parentData?.initialAnimation.value\n}\n\nconst el = useTemplateRef<HTMLElement>('_el')\nparentData?.registerAccordionItem(computedId.value, el)\n\nonUnmounted(() => {\n  parentData?.unregisterAccordionItem(computedId.value)\n})\n\nonMounted(() => {\n  if (!modelValue.value && parentData?.openItem.value === computedId.value) {\n    nextTick(() => {\n      modelValue.value = true\n    })\n  }\n})\n\nconst openInParent = computed(() =>\n  Array.isArray(parentData?.openItem.value)\n    ? parentData?.openItem.value.includes(computedId.value)\n    : parentData?.openItem.value === computedId.value\n)\n\nwatch(\n  () => parentData?.openItem.value,\n  () => (modelValue.value = openInParent.value)\n)\nwatch(modelValue, () => {\n  if (modelValue.value && !openInParent.value) {\n    parentData?.setOpenItem(computedId.value)\n  } else if (!modelValue.value && openInParent.value) {\n    parentData?.setCloseItem(computedId.value)\n  }\n})\n</script>\n","<template>\n  <div :id=\"computedId\" class=\"accordion\" :class=\"computedClasses\">\n    <slot />\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport {\n  computed,\n  nextTick,\n  provide,\n  ref,\n  type ShallowRef,\n  shallowRef,\n  toRef,\n  unref,\n  type VNode,\n  watch,\n} from 'vue'\nimport {accordionInjectionKey} from '../../utils/keys'\nimport {useId} from '../../composables/useId'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BAccordionProps} from '../../types/ComponentProps'\nimport {flattenFragments} from '../../utils/flattenFragments'\nimport BAccordionItem from './BAccordionItem.vue'\nimport {sortSlotElementsByPosition} from '../../utils/dom'\n\nconst _props = withDefaults(defineProps<Omit<BAccordionProps, 'modelValue' | 'index'>>(), {\n  flush: false,\n  free: false,\n  initialAnimation: false,\n  id: undefined,\n  lazy: false,\n  unmountLazy: false,\n})\n\nconst slots = defineSlots<{\n  // eslint-disable-next-line @typescript-eslint/no-explicit-any\n  default?: (props: Record<string, never>) => any\n}>()\n\nconst props = useDefaults(_props, 'BAccordion')\n\nconst modelValue = defineModel<BAccordionProps['modelValue']>({\n  default: undefined,\n})\n\nconst index = defineModel<BAccordionProps['index']>('index', {\n  default: undefined,\n})\n\nconst itemElementsArray = ref<VNode[]>([])\n\nconst updateItemElementsArray = () => {\n  const itemElements = flattenFragments(slots.default?.({}) ?? [])\n  itemElementsArray.value = (Array.isArray(itemElements) ? itemElements : [itemElements]).filter(\n    (item) => item.type === BAccordionItem\n  )\n}\nupdateItemElementsArray()\n\nwatch(\n  () => slots.default?.({}),\n  () => {\n    updateItemElementsArray()\n    nextTick(() => {\n      sortAccordionItems()\n    })\n  }\n)\n\ninterface AccordionItem {\n  id: string\n  el: Readonly<ShallowRef<HTMLElement | null>>\n}\n\nconst accordionItems = shallowRef<AccordionItem[]>([])\n\nconst sortAccordionItems = () => {\n  accordionItems.value = accordionItems.value.sort((a, b) =>\n    sortSlotElementsByPosition(unref(a.el), unref(b.el))\n  )\n  if (modelValue.value) {\n    if (Array.isArray(modelValue.value)) {\n      const next = modelValue.value\n        .map((id) => accordionItems.value.findIndex((item) => item.id === id))\n        .filter((i) => i !== -1)\n\n      if (next.length !== modelValue.value.length) {\n        if (import.meta.env.DEV) {\n          console.warn('[BAccordion] Unknown item id in v-model:', modelValue.value)\n        }\n      }\n      index.value = next\n    } else {\n      const idx = accordionItems.value.findIndex((item) => item.id === modelValue.value)\n      if (idx !== -1) index.value = idx\n    }\n  } else if (index.value !== undefined) {\n    modelValue.value = Array.isArray(index.value)\n      ? index.value.map((idx) => accordionItems.value[idx]?.id)\n      : accordionItems.value[index.value]?.id\n  }\n}\n\nconst computedId = useId(() => props.id, 'accordion')\n\nconst computedClasses = computed(() => ({\n  'accordion-flush': props.flush,\n}))\n\nconst areEqual = (a: unknown, b: unknown) => {\n  if (Array.isArray(a) && Array.isArray(b)) {\n    return a.length === b.length && a.every((item, index) => item === b[index])\n  }\n  return a === b\n}\n\nwatch(\n  () => index.value,\n  (newValue, oldValue) => {\n    if (areEqual(newValue, oldValue)) return\n    if (index.value === undefined) {\n      modelValue.value = undefined\n      return\n    }\n\n    if (!props.free) {\n      const idx = !Array.isArray(index.value) ? index.value : index.value?.[0]\n      if (accordionItems.value[idx]?.id) {\n        if (modelValue.value !== accordionItems.value[idx]?.id) {\n          modelValue.value = accordionItems.value[idx]?.id\n        }\n      } else {\n        nextTick(() => {\n          index.value = undefined\n        })\n      }\n    } else {\n      // free mode\n      if (Array.isArray(index.value)) {\n        const newValue = index.value.map((item) => accordionItems.value[item]?.id)\n        if (!areEqual(newValue, modelValue.value)) {\n          modelValue.value = newValue\n        }\n      } else {\n        const newValue = accordionItems.value[index.value]?.id\n        if (newValue === undefined) {\n          nextTick(() => {\n            index.value = undefined\n          })\n          return\n        }\n        if (!areEqual(newValue, modelValue.value)) {\n          modelValue.value = newValue\n        }\n      }\n    }\n  }\n)\n\nwatch(\n  () => modelValue.value,\n  (newValue, oldValue) => {\n    if (areEqual(newValue, oldValue)) return\n    if (modelValue.value === undefined) {\n      index.value = undefined\n      return\n    }\n\n    if (!props.free) {\n      const idx = !Array.isArray(modelValue.value)\n        ? accordionItems.value.findIndex((item) => item.id === modelValue.value)\n        : accordionItems.value.findIndex((item) => item.id === modelValue.value?.[0])\n      if (idx !== -1) {\n        if (index.value !== idx) {\n          index.value = idx\n        }\n      } else {\n        nextTick(() => {\n          modelValue.value = undefined\n        })\n      }\n    } else if (props.free) {\n      if (Array.isArray(modelValue.value)) {\n        const idxes = modelValue.value\n          .map((value) => accordionItems.value.findIndex((item) => item.id === value))\n          .filter((index) => index !== -1)\n        if (idxes.length > 0) {\n          if (!areEqual(idxes, index.value)) {\n            index.value = idxes\n          }\n        } else {\n          nextTick(() => {\n            modelValue.value = undefined\n          })\n        }\n      } else {\n        const newValue = accordionItems.value.findIndex((item) => item.id === modelValue.value)\n        if (!areEqual(newValue, index.value)) {\n          index.value = newValue\n        }\n      }\n    }\n  },\n  {deep: true}\n)\n\nwatch(\n  () => props.free,\n  (free) => {\n    if (modelValue.value) {\n      if (!free && Array.isArray(modelValue.value)) {\n        modelValue.value = modelValue.value[0]\n      } else if (free && !Array.isArray(modelValue.value)) {\n        modelValue.value = [modelValue.value]\n      }\n    }\n  }\n)\n\nprovide(accordionInjectionKey, {\n  openItem: toRef(() => modelValue.value),\n  free: toRef(() => props.free),\n  initialAnimation: toRef(() => props.initialAnimation),\n  lazy: toRef(() => props.lazy),\n  unmountLazy: toRef(() => props.unmountLazy),\n  setOpenItem: (id: string) => {\n    if (props.free && !Array.isArray(modelValue.value)) {\n      if (modelValue.value !== undefined) {\n        modelValue.value = [modelValue.value, id]\n      } else {\n        modelValue.value = [id]\n      }\n      return\n    }\n    if (!props.free && Array.isArray(modelValue.value)) {\n      modelValue.value = id\n      return\n    }\n    if (Array.isArray(modelValue.value)) {\n      if (!modelValue.value.includes(id)) {\n        modelValue.value = [...modelValue.value, id]\n      }\n    } else {\n      modelValue.value = id\n    }\n  },\n  setCloseItem: (id: string) => {\n    if (!props.free && Array.isArray(modelValue.value)) {\n      modelValue.value = undefined\n      return\n    }\n    if (Array.isArray(modelValue.value)) {\n      const next = modelValue.value.filter((item) => item !== id)\n      modelValue.value = next.length ? next : undefined\n    } else {\n      if (modelValue.value === id) {\n        modelValue.value = undefined\n      }\n    }\n  },\n  registerAccordionItem: (id: string, el: Readonly<ShallowRef<HTMLElement | null>>) => {\n    accordionItems.value = [...accordionItems.value, {id, el}]\n    if (accordionItems.value.length === itemElementsArray.value.length) {\n      sortAccordionItems()\n    }\n  },\n  unregisterAccordionItem: (id: string) => {\n    accordionItems.value = accordionItems.value.filter((item) => item.id !== id)\n  },\n})\n</script>\n"],"names":["_useModel","_useSlots","BAccordionItem","_a","index","newValue"],"mappings":"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"}