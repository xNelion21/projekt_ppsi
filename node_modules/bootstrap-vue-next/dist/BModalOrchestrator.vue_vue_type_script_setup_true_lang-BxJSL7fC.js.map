{"version":3,"file":"BModalOrchestrator.vue_vue_type_script_setup_true_lang-BxJSL7fC.js","sources":["../src/components/BModal/BModal.vue","../src/components/BModal/BModalOrchestrator.vue"],"sourcesContent":["<template>\n  <ConditionalTeleport :to=\"props.teleportTo\" :disabled=\"props.teleportDisabled\">\n    <Transition\n      v-if=\"renderRef || contentShowing\"\n      v-bind=\"transitionProps\"\n      :appear=\"modelValue || props.visible\"\n    >\n      <div\n        v-show=\"showRef && ((backdropReady && props.backdropFirst) || !props.backdropFirst)\"\n        :id=\"computedId\"\n        ref=\"_element\"\n        class=\"modal\"\n        :class=\"[\n          props.modalClass,\n          {\n            fade: !computedNoAnimation,\n            show: isVisible,\n            ...sharedClasses,\n          },\n        ]\"\n        role=\"dialog\"\n        :aria-labelledby=\"!props.noHeader ? `${computedId}-label` : undefined\"\n        :aria-describedby=\"`${computedId}-body`\"\n        tabindex=\"-1\"\n        v-bind=\"$attrs\"\n        :style=\"computedZIndex\"\n        style=\"display: block\"\n        @mousedown.left.self=\"hide('backdrop')\"\n      >\n        <div class=\"modal-dialog\" :class=\"modalDialogClasses\">\n          <div v-if=\"contentShowing\" class=\"modal-content\" :class=\"props.contentClass\">\n            <div v-if=\"!props.noHeader\" class=\"modal-header\" :class=\"headerClasses\">\n              <slot name=\"header\" v-bind=\"sharedSlots\">\n                <component\n                  :is=\"props.titleTag\"\n                  :id=\"`${computedId}-label`\"\n                  class=\"modal-title\"\n                  :class=\"titleClasses\"\n                >\n                  <slot name=\"title\" v-bind=\"sharedSlots\">\n                    {{ props.title }}\n                  </slot>\n                </component>\n                <template v-if=\"!props.noHeaderClose\">\n                  <BButton\n                    v-if=\"hasHeaderCloseSlot\"\n                    v-bind=\"headerCloseAttrs\"\n                    @click=\"hide('close')\"\n                  >\n                    <slot name=\"header-close\" v-bind=\"sharedSlots\" />\n                  </BButton>\n                  <BCloseButton\n                    v-else\n                    :aria-label=\"props.headerCloseLabel\"\n                    v-bind=\"headerCloseAttrs\"\n                    @click=\"hide('close')\"\n                  />\n                </template>\n              </slot>\n            </div>\n            <div\n              :id=\"`${computedId}-body`\"\n              class=\"modal-body\"\n              :class=\"bodyClasses\"\n              v-bind=\"props.bodyAttrs\"\n            >\n              <slot v-bind=\"sharedSlots\">\n                {{ props.body }}\n              </slot>\n            </div>\n            <div v-if=\"!props.noFooter\" class=\"modal-footer\" :class=\"footerClasses\">\n              <slot name=\"footer\" v-bind=\"sharedSlots\">\n                <slot name=\"cancel\" v-bind=\"sharedSlots\">\n                  <BButton\n                    v-if=\"!props.okOnly\"\n                    ref=\"_cancelButton\"\n                    :disabled=\"disableCancel\"\n                    :size=\"props.buttonSize\"\n                    :variant=\"props.cancelVariant\"\n                    :class=\"props.cancelClass\"\n                    @click=\"hide('cancel')\"\n                  >\n                    {{ props.cancelTitle }}\n                  </BButton>\n                </slot>\n                <slot name=\"ok\" v-bind=\"sharedSlots\">\n                  <BButton\n                    ref=\"_okButton\"\n                    :disabled=\"disableOk\"\n                    :size=\"props.buttonSize\"\n                    :variant=\"props.okVariant\"\n                    :class=\"props.okClass\"\n                    @click=\"hide('ok')\"\n                  >\n                    {{ props.okTitle }}\n                  </BButton>\n                </slot>\n              </slot>\n            </div>\n          </div>\n        </div>\n        <div\n          v-if=\"needsFallback\"\n          ref=\"_fallbackFocusElement\"\n          :class=\"fallbackClassSelector\"\n          tabindex=\"0\"\n          style=\"width: 0; height: 0; overflow: hidden\"\n        />\n      </div>\n    </Transition>\n    <slot v-if=\"!props.noBackdrop\" name=\"backdrop\" v-bind=\"sharedSlots\">\n      <Transition v-if=\"renderBackdropRef\" v-bind=\"backdropTransitionProps\">\n        <div\n          v-show=\"showRef || (isLeaving && props.backdropFirst && !computedNoAnimation)\"\n          class=\"modal-backdrop\"\n          :style=\"computedZIndexBackdrop\"\n          :class=\"{\n            fade: !computedNoAnimation,\n            show: backdropVisible || computedNoAnimation,\n            ...sharedClasses,\n          }\"\n          @click=\"hide('backdrop')\"\n        />\n      </Transition>\n    </slot>\n  </ConditionalTeleport>\n</template>\n\n<script setup lang=\"ts\">\nimport {onKeyStroke, unrefElement} from '@vueuse/core'\nimport {useActivatedFocusTrap} from '../../composables/useActivatedFocusTrap'\nimport {\n  computed,\n  type CSSProperties,\n  type EmitFn,\n  nextTick,\n  onMounted,\n  ref,\n  useTemplateRef,\n  watch,\n} from 'vue'\nimport type {BModalProps} from '../../types/ComponentProps'\nimport type {BModalEmits} from '../../types/ComponentEmits'\nimport type {BModalSlots, BModalSlotsData} from '../../types/ComponentSlots'\n\nimport BButton from '../BButton/BButton.vue'\nimport BCloseButton from '../BButton/BCloseButton.vue'\nimport {useDefaults} from '../../composables/useDefaults'\nimport {useId} from '../../composables/useId'\nimport {useSafeScrollLock} from '../../composables/useSafeScrollLock'\nimport {getModalZIndex, isEmptySlot} from '../../utils/dom'\nimport {useColorVariantClasses} from '../../composables/useColorVariantClasses'\nimport {useModalManager} from '../../composables/useModalManager'\nimport {useShowHide} from '../../composables/useShowHide'\nimport ConditionalTeleport from '../ConditionalTeleport.vue'\nimport {getElement} from '../../utils/getElement'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst _props = withDefaults(defineProps<Omit<BModalProps, 'modelValue'>>(), {\n  focus: undefined,\n  backdropFirst: false,\n  body: undefined,\n  bodyBgVariant: null,\n  bodyAttrs: undefined,\n  bodyClass: null,\n  bodyScrolling: false,\n  bodyTextVariant: null,\n  bodyVariant: null,\n  busy: false,\n  buttonSize: 'md',\n  cancelClass: undefined,\n  cancelDisabled: false,\n  cancelTitle: 'Cancel',\n  cancelVariant: 'secondary',\n  centered: false,\n  contentClass: undefined,\n  dialogClass: undefined,\n  footerBgVariant: null,\n  footerBorderVariant: null,\n  footerClass: undefined,\n  footerTextVariant: null,\n  footerVariant: null,\n  fullscreen: false,\n  headerBgVariant: null,\n  headerBorderVariant: null,\n  headerClass: undefined,\n  headerCloseClass: undefined,\n  headerCloseLabel: 'Close',\n  headerCloseVariant: 'secondary',\n  headerTextVariant: null,\n  headerVariant: null,\n  noFooter: false,\n  noHeader: false,\n  noHeaderClose: false,\n  id: undefined,\n  initialAnimation: false,\n  lazy: false,\n  modalClass: undefined,\n  noBackdrop: false,\n  noCloseOnBackdrop: false,\n  noCloseOnEsc: false,\n  noFade: false,\n  noTrap: false,\n  okClass: undefined,\n  okDisabled: false,\n  okOnly: false,\n  okTitle: 'OK',\n  okVariant: 'primary',\n  unmountLazy: false,\n  scrollable: false,\n  size: 'md',\n  teleportDisabled: false,\n  teleportTo: 'body',\n  title: undefined,\n  titleClass: undefined,\n  titleVisuallyHidden: false,\n  titleTag: 'h5',\n  show: false,\n  transProps: undefined,\n  visible: false,\n})\nconst props = useDefaults(_props, 'BModal')\n\nconst emit = defineEmits<BModalEmits>()\n\nconst slots = defineSlots<BModalSlots>()\n\nconst computedId = useId(() => props.id, 'modal')\n// Note: passive: true will sync an internal ref... This is required for useModalManager to exit,\n// Since the modelValue that's passed from that composable is not reactive, this internal ref _is_ and thus it will trigger closing the modal\nconst modelValue = defineModel<Exclude<BModalProps['modelValue'], undefined>>({default: false})\n\nconst element = useTemplateRef<HTMLElement>('_element')\nconst fallbackFocusElement = useTemplateRef<HTMLElement>('_fallbackFocusElement')\nconst okButton = useTemplateRef<HTMLElement>('_okButton')\nconst cancelButton = useTemplateRef<HTMLElement>('_cancelButton')\nconst closeButton = useTemplateRef<HTMLElement>('_closeButton')\n\nconst pickFocusItem = () => {\n  if (props.focus && typeof props.focus !== 'boolean') {\n    if (props.focus === 'ok') {\n      return okButton\n    } else if (props.focus === 'close') {\n      return closeButton\n    } else if (props.focus === 'cancel') {\n      return cancelButton\n    }\n    return getElement(props.focus, element.value ?? undefined) ?? element.value\n  }\n  return element\n}\n\nlet activeElement: HTMLElement | null = null\nconst onAfterEnter = () => {\n  if (props.noTrap && props.focus !== false) {\n    activeElement = document.activeElement as HTMLElement\n    if (activeElement === element.value) {\n      activeElement = null\n    }\n    const el = unrefElement(pickFocusItem())\n    if (!el) return\n    el?.focus()\n    if (\n      el.tagName &&\n      el.tagName.toLowerCase() === 'input' &&\n      typeof (el as HTMLInputElement).select === 'function'\n    ) {\n      ;(el as HTMLInputElement).select()\n    }\n  }\n}\n\nconst onAfterLeave = () => {\n  if (props.noTrap && props.focus !== false && activeElement) {\n    activeElement?.focus()\n    activeElement = null\n  }\n}\n\nconst {\n  showRef,\n  renderRef,\n  renderBackdropRef,\n  hide,\n  show,\n  toggle,\n  computedNoAnimation,\n  transitionProps,\n  backdropTransitionProps,\n  isLeaving,\n  isVisible,\n  trapActive,\n  contentShowing,\n  backdropReady,\n  backdropVisible,\n} = useShowHide(modelValue, props, emit as EmitFn, element, computedId, {\n  // addShowClass: false,\n  transitionProps: {\n    onAfterEnter,\n    onAfterLeave,\n  },\n})\n\nconst fallbackClassSelector = 'modal-fallback-focus'\nconst {needsFallback} = useActivatedFocusTrap({\n  element,\n  isActive: trapActive,\n  noTrap: () => props.noTrap,\n  fallbackFocus: {\n    ref: fallbackFocusElement,\n    classSelector: fallbackClassSelector,\n  },\n  focus: () => (props.focus === false ? false : (unrefElement(pickFocusItem()) ?? undefined)),\n  // () => (typeof focus === 'boolean' ? focus : (unrefElement(focus) ?? undefined)),\n})\n\nonKeyStroke(\n  'Escape',\n  () => {\n    hide('esc')\n  },\n  {target: element}\n)\nuseSafeScrollLock(showRef, () => props.bodyScrolling)\n\nconst hasHeaderCloseSlot = computed(() => !isEmptySlot(slots['header-close']))\n\nconst modalDialogClasses = computed(() => [\n  props.dialogClass,\n  {\n    'modal-fullscreen': props.fullscreen === true,\n    [`modal-fullscreen-${props.fullscreen}-down`]: typeof props.fullscreen === 'string',\n    [`modal-${props.size}`]: props.size !== 'md',\n    'modal-dialog-centered': props.centered,\n    'modal-dialog-scrollable': props.scrollable,\n  },\n])\n\nconst bodyColorClasses = useColorVariantClasses(() => ({\n  bgVariant: props.bodyBgVariant,\n  textVariant: props.bodyTextVariant,\n  variant: props.bodyVariant,\n}))\nconst bodyClasses = computed(() => [props.bodyClass, bodyColorClasses.value])\n\nconst headerColorClasses = useColorVariantClasses(() => ({\n  bgVariant: props.headerBgVariant,\n  textVariant: props.headerTextVariant,\n  variant: props.headerVariant,\n  borderVariant: props.headerBorderVariant,\n}))\nconst headerClasses = computed(() => [props.headerClass, headerColorClasses.value])\n\nconst headerCloseAttrs = computed(() => ({\n  variant: hasHeaderCloseSlot.value ? props.headerCloseVariant : undefined,\n  class: props.headerCloseClass,\n}))\n\nconst footerColorClasses = useColorVariantClasses(() => ({\n  bgVariant: props.footerBgVariant,\n  textVariant: props.footerTextVariant,\n  variant: props.footerVariant,\n  borderVariant: props.footerBorderVariant,\n}))\nconst footerClasses = computed(() => [props.footerClass, footerColorClasses.value])\n\nconst titleClasses = computed(() => [\n  props.titleClass,\n  {\n    ['visually-hidden']: props.titleVisuallyHidden,\n  },\n])\n\nconst disableCancel = computed(() => props.cancelDisabled || props.busy)\nconst disableOk = computed(() => props.okDisabled || props.busy)\n\nconst {activePosition, activeModalCount, stackWithoutSelf} = useModalManager(\n  showRef,\n  modelValue.value\n)\n\nconst sharedClasses = computed(() => ({\n  [`stack-position-${activePosition?.value ?? 0}`]: true,\n  [`stack-inverse-position-${(activeModalCount?.value ?? 1) - 1 - (activePosition?.value ?? 0)}`]:\n    true,\n}))\n\nwatch(stackWithoutSelf, (newValue, oldValue) => {\n  if (newValue.length > oldValue.length && showRef.value === true && props.noStacking === true)\n    hide()\n})\n\nconst defaultModalDialogZIndex = ref(getModalZIndex(element.value ?? document.body))\n\nonMounted(() => {\n  watch(\n    renderRef,\n    (v) => {\n      if (!v) return\n      nextTick(() => {\n        if (!element.value) return\n        defaultModalDialogZIndex.value = getModalZIndex(element.value)\n      })\n    },\n    {immediate: true}\n  )\n})\n\nconst computedZIndexNumber = computed<number>(() =>\n  // Make sure that newly opened modals have a higher z-index than currently active ones.\n  // All active modals have a z-index of ('defaultZIndex' - 'stackSize' - 'positionInStack').\n  //\n  // This means inactive modals will already be higher than active ones when opened.\n\n  showRef.value || isLeaving.value\n    ? // Just for reference there is a single frame in which the modal is not active but still has a higher z-index than the active ones due to _when_ it calculates its position. It's a small visual effect\n      defaultModalDialogZIndex.value -\n      ((activeModalCount?.value ?? 0) * 2 - (activePosition?.value ?? 0) * 2)\n    : defaultModalDialogZIndex.value\n)\nconst computedZIndex = computed<CSSProperties>(() => ({\n  'z-index': computedZIndexNumber.value,\n  '--b-position': activePosition?.value ?? 0,\n  '--b-inverse-position': (activeModalCount?.value ?? 1) - 1 - (activePosition?.value ?? 0),\n  '--b-count': activeModalCount?.value ?? 0,\n}))\nconst computedZIndexBackdrop = computed<CSSProperties>(() => ({\n  'z-index': computedZIndexNumber.value - 1,\n  '--b-position': activePosition?.value ?? 0,\n  '--b-inverse-position': (activeModalCount?.value ?? 1) - 1 - (activePosition?.value ?? 0),\n  '--b-count': activeModalCount?.value ?? 0,\n}))\n\nconst sharedSlots = computed<BModalSlotsData>(() => ({\n  id: computedId.value,\n  cancel: () => {\n    hide('cancel')\n  },\n  close: () => {\n    hide('close')\n  },\n  hide,\n  show,\n  toggle,\n  ok: () => {\n    hide('ok')\n  },\n  active: showRef.value,\n  visible: showRef.value,\n}))\n\ndefineExpose({\n  hide,\n  id: computedId,\n  show,\n  toggle,\n  visible: showRef,\n})\n</script>\n","<template>\n  <ConditionalTeleport :to=\"props.teleportTo\" :disabled=\"props.teleportDisabled\">\n    <div id=\"__BVID__modal-container\" v-bind=\"$attrs\">\n      <component\n        :is=\"_component ?? BModal\"\n        v-for=\"[key, {component: _component, promise, options, slots, ...val}] in tools.modals\n          ?.value\"\n        :key=\"key\"\n        :ref=\"(ref: ComponentPublicInstance) => (promise.value.ref = ref)\"\n        v-bind=\"val\"\n        initial-animation\n        :teleport-disabled=\"true\"\n        @hide=\"\n          (e: BvTriggerableEvent) => {\n            e.ok = e.trigger === 'ok' ? true : e.trigger === 'cancel' ? false : null\n            val.onHide?.(e)\n            if (e.defaultPrevented) {\n              return\n            }\n            promise.stop?.()\n            if (options?.resolveOnHide) {\n              promise.resolve(options.returnBoolean ? e.ok : e)\n            }\n          }\n        \"\n        @hidden=\"\n          (e: BvTriggerableEvent) => {\n            e.ok = e.trigger === 'ok' ? true : e.trigger === 'cancel' ? false : null\n            val.onHidden?.(e)\n            if (e.defaultPrevented) {\n              return\n            }\n            if (!options?.resolveOnHide) {\n              promise.resolve(options.returnBoolean ? e.ok : e)\n            }\n            if (!options?.keep) {\n              promise.value.destroy?.()\n            }\n          }\n        \"\n      >\n        <template v-for=\"(comp, slot) in slots\" #[slot]=\"scope\" :key=\"slot\">\n          <component :is=\"comp\" v-bind=\"scope\" />\n        </template>\n      </component>\n    </div>\n  </ConditionalTeleport>\n</template>\n\n<script setup lang=\"ts\">\nimport type {BvTriggerableEvent} from '../../utils'\nimport {useDefaults} from '../../composables/useDefaults'\nimport type {BModalOrchestratorProps} from '../../types/ComponentProps'\nimport BModal from './BModal.vue'\nimport ConditionalTeleport from '../ConditionalTeleport.vue'\nimport {useModalController} from '../../composables/useModalController'\nimport type {ComponentPublicInstance} from 'vue'\n\ndefineOptions({\n  inheritAttrs: false,\n})\n\nconst _props = withDefaults(defineProps<BModalOrchestratorProps>(), {\n  teleportDisabled: false,\n  teleportTo: 'body',\n})\nconst props = useDefaults(_props, 'BModalOrchestrator')\n\nconst tools = useModalController()\ntools._isOrchestratorInstalled.value = true\n\ndefineExpose({\n  ...tools,\n})\n</script>\n"],"names":["fallbackClassSelector","_props","__props","props","useDefaults","emit","__emit","slots","_useSlots","computedId","useId","id","modelValue","_useModel","element","useTemplateRef","fallbackFocusElement","okButton","cancelButton","closeButton","pickFocusItem","focus","getElement","value","activeElement","showRef","renderRef","renderBackdropRef","hide","show","toggle","computedNoAnimation","transitionProps","backdropTransitionProps","isLeaving","isVisible","trapActive","contentShowing","backdropReady","backdropVisible","useShowHide","onAfterEnter","noTrap","document","el","unrefElement","tagName","toLowerCase","select","onAfterLeave","needsFallback","useActivatedFocusTrap","isActive","fallbackFocus","ref","classSelector","index","onKeyStroke","target","useSafeScrollLock","bodyScrolling","hasHeaderCloseSlot","computed","isEmptySlot","modalDialogClasses","dialogClass","fullscreen","size","centered","scrollable","bodyColorClasses","useColorVariantClasses","bgVariant","bodyBgVariant","textVariant","bodyTextVariant","variant","bodyVariant","bodyClasses","bodyClass","headerColorClasses","headerBgVariant","headerTextVariant","headerVariant","borderVariant","headerBorderVariant","headerClasses","headerClass","headerCloseAttrs","headerCloseVariant","class","headerCloseClass","footerColorClasses","footerBgVariant","footerTextVariant","footerVariant","footerBorderVariant","footerClasses","footerClass","titleClasses","titleClass","titleVisuallyHidden","disableCancel","cancelDisabled","busy","disableOk","okDisabled","activePosition","activeModalCount","stackWithoutSelf","useModalManager","sharedClasses","watch","newValue","oldValue","length","noStacking","defaultModalDialogZIndex","getModalZIndex","body","onMounted","vue","v","nextTick","immediate","computedZIndexNumber","computedZIndex","computedZIndexBackdrop","sharedSlots","cancel","close","ok","active","visible","__expose","tools","useModalController","_isOrchestratorInstalled"],"mappings":"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"}