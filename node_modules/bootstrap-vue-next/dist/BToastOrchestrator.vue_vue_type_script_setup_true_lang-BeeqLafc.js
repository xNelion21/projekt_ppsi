"use strict";const e=require("vue"),o=require("./useDefaults-q0yyNSBk.js"),t=require("./BButton.vue_vue_type_script_setup_true_lang-DHpIDYI_.js"),a=require("./BLink.vue_vue_type_script_setup_true_lang-BSwVlDdR.js"),l=require("./BCloseButton.vue_vue_type_script_setup_true_lang-DZGcyqBT.js"),r=require("./BProgress.vue_vue_type_script_setup_true_lang-BzP4tktA.js"),s=require("./useCountdownHover-B0MzavX8.js"),n=require("./useColorVariantClasses-CE658Sm0.js"),i=require("./useId-CVpYZavN.js"),u=require("./useShowHide-Bb4cHgbQ.js"),d=require("./ConditionalTeleport.vue_vue_type_script_lang-DOGq8bM-.js"),c=require("./src/composables/useToastController/index.umd.js"),p=["id","role","aria-live","aria-atomic"],f={key:1,class:"d-flex"},v=e.defineComponent({__name:"BToast",props:e.mergeModels({body:{default:void 0},bodyClass:{default:void 0},closeClass:{default:void 0},closeContent:{default:void 0},closeLabel:{default:"Close"},closeVariant:{default:"secondary"},headerClass:{default:void 0},headerTag:{default:"div"},id:{default:void 0},interval:{default:"requestAnimationFrame"},isStatus:{type:Boolean,default:!1},noCloseButton:{type:Boolean,default:!1},noHoverPause:{type:Boolean,default:!1},noProgress:{type:Boolean,default:!1},noResumeOnHoverLeave:{type:Boolean,default:!1},progressProps:{default:void 0},showOnPause:{type:Boolean,default:!0},solid:{type:Boolean,default:!1},title:{default:void 0},toastClass:{default:void 0},variant:{default:void 0},bgVariant:{default:null},textVariant:{default:null},active:{type:Boolean,default:void 0},activeClass:{default:void 0},disabled:{type:Boolean,default:void 0},exactActiveClass:{default:void 0},href:{default:void 0},icon:{type:Boolean,default:void 0},noRel:{type:Boolean,default:void 0},opacity:{default:void 0},opacityHover:{default:void 0},prefetch:{type:Boolean},prefetchOn:{},noPrefetch:{type:Boolean},prefetchedClass:{},rel:{default:void 0},replace:{type:Boolean,default:void 0},routerComponentName:{default:void 0},stretched:{type:Boolean,default:!1},target:{default:void 0},to:{default:void 0},underlineOffset:{default:void 0},underlineOffsetHover:{default:void 0},underlineOpacity:{default:void 0},underlineOpacityHover:{default:void 0},underlineVariant:{default:void 0},initialAnimation:{type:Boolean,default:!1},noAnimation:{type:Boolean},noFade:{type:Boolean,default:!1},lazy:{type:Boolean,default:!1},unmountLazy:{type:Boolean,default:!1},show:{type:Boolean,default:!1},transProps:{default:void 0},visible:{type:Boolean,default:!1}},{modelValue:{type:[Boolean,Number],default:!1},modelModifiers:{}}),emits:e.mergeModels(["close","close-countdown","hide","hide-prevented","hidden","show","show-prevented","shown","toggle","toggle-prevented","cancel","ok"],["update:modelValue"]),setup(d,{expose:c,emit:v}){const m=d,y=o.useDefaults(m,"BToast"),B=v,_=e.useSlots(),g=e.useTemplateRef("_element"),h=e.useModel(d,"modelValue"),{computedLink:C,computedLinkProps:k}=a.useBLinkHelper(y),b=i.useId((()=>y.id),"toast"),{showRef:w,renderRef:P,hide:x,toggle:V,show:H,buildTriggerableEvent:T,computedNoAnimation:S,isVisible:N,transitionProps:D,contentShowing:O}=u.useShowHide(h,y,B,g,b),L=e.computed((()=>"boolean"==typeof h.value?0:h.value)),{isActive:q,pause:z,restart:E,resume:j,stop:R,isPaused:A,value:M}=s.useCountdown(L,y.interval,{immediate:"number"==typeof h.value&&!!h.value});s.useCountdownHover(g,{noHoverPause:()=>y.noHoverPause||"number"!=typeof h.value,noResumeOnHoverLeave:()=>y.noResumeOnHoverLeave||"number"!=typeof h.value,modelValueIgnoresHover:()=>"boolean"==typeof h.value},{pause:z,resume:j}),e.watchEffect((()=>{B("close-countdown",M.value)}));const F=e.computed((()=>C.value?a._sfc_main:"div")),I=e.computed((()=>w.value||q.value||y.showOnPause&&A.value)),$=n.useColorVariantClasses(y),G=e.computed((()=>[$.value,{show:N.value,fade:!S.value}]));e.watch(h,(e=>{if("number"==typeof e&&e>0){const e=T("show",{cancelable:!0,trigger:"model"});B("show",e),e.defaultPrevented?B("show-prevented",T("show-prevented")):E()}})),e.watch(q,(e=>{!1===e&&!1===A.value&&(x(),h.value=0,R())}));const W=e.computed((()=>({toggle:V,show:H,hide:x,id:b.value,visible:w.value,active:q.value})));return c({show:H,hide:x,toggle:V,pause:z,restart:E,resume:j,stop:R}),(o,a)=>{const s=t._sfc_main;return e.unref(P)||e.unref(O)?(e.openBlock(),e.createBlock(e.Transition,e.mergeProps({key:0},e.unref(D),{appear:!!h.value||e.unref(y).visible}),{default:e.withCtx((()=>{var t,n,i,u,d,c;return[e.withDirectives(e.createElementVNode("div",{id:e.unref(y).id,ref:"_element",class:e.normalizeClass(["toast",[e.unref(y).toastClass,G.value]]),tabindex:"0",style:{display:"block"},role:I.value?e.unref(y).isStatus?"status":"alert":void 0,"aria-live":I.value?e.unref(y).isStatus?"polite":"assertive":void 0,"aria-atomic":!!I.value||void 0},[e.unref(O)&&(_.title||e.unref(y).title)?(e.openBlock(),e.createBlock(e.resolveDynamicComponent(e.unref(y).headerTag),{key:0,class:e.normalizeClass(["toast-header",e.unref(y).headerClass])},{default:e.withCtx((()=>[e.renderSlot(o.$slots,"title",e.normalizeProps(e.guardReactiveProps(W.value)),(()=>[e.createElementVNode("strong",null,e.toDisplayString(e.unref(y).title),1)])),e.unref(y).noCloseButton?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[_.close||e.unref(y).closeContent?(e.openBlock(),e.createBlock(s,{key:0,class:e.normalizeClass([[e.unref(y).closeClass],"ms-auto"]),variant:e.unref(y).closeVariant,onClick:a[0]||(a[0]=e.withModifiers((o=>e.unref(x)("close")),["stop","prevent"]))},{default:e.withCtx((()=>[e.renderSlot(o.$slots,"close",e.normalizeProps(e.guardReactiveProps(W.value)),(()=>[e.createTextVNode(e.toDisplayString(e.unref(y).closeContent),1)]))])),_:3},8,["class","variant"])):(e.openBlock(),e.createBlock(l._sfc_main,{key:1,"aria-label":e.unref(y).closeLabel,class:e.normalizeClass(["ms-auto",[e.unref(y).closeClass]]),onClick:a[1]||(a[1]=e.withModifiers((o=>e.unref(x)("close")),["stop","prevent"]))},null,8,["aria-label","class"]))],64))])),_:3},8,["class"])):e.createCommentVNode("",!0),e.unref(O)&&(_.default||e.unref(y).body)?(e.openBlock(),e.createElementBlock("div",f,[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(F.value),e.mergeProps({class:["toast-body",e.unref(y).bodyClass]},e.unref(k),{onClick:a[2]||(a[2]=o=>e.unref(C)?e.unref(x)():()=>{})}),{default:e.withCtx((()=>[e.renderSlot(o.$slots,"default",e.normalizeProps(e.guardReactiveProps(W.value)),(()=>[e.createTextVNode(e.toDisplayString(e.unref(y).body),1)]))])),_:3},16,["class"])),e.unref(y).noCloseButton||_.title||e.unref(y).title?e.createCommentVNode("",!0):(e.openBlock(),e.createElementBlock(e.Fragment,{key:0},[_.close||e.unref(y).closeContent?(e.openBlock(),e.createBlock(s,{key:0,class:e.normalizeClass([[e.unref(y).closeClass],"ms-auto btn-close-custom"]),variant:e.unref(y).closeVariant,onClick:a[3]||(a[3]=e.withModifiers((o=>e.unref(x)("close")),["stop","prevent"]))},{default:e.withCtx((()=>[e.renderSlot(o.$slots,"close",e.normalizeProps(e.guardReactiveProps(W.value)),(()=>[e.createTextVNode(e.toDisplayString(e.unref(y).closeContent),1)]))])),_:3},8,["class","variant"])):(e.openBlock(),e.createBlock(l._sfc_main,{key:1,"aria-label":e.unref(y).closeLabel,class:e.normalizeClass(["ms-auto btn-close-custom",[e.unref(y).closeClass]]),onClick:a[4]||(a[4]=e.withModifiers((o=>e.unref(x)("close")),["stop","prevent"]))},null,8,["aria-label","class"]))],64))])):e.createCommentVNode("",!0),"number"!=typeof h.value||e.unref(y).noProgress?e.createCommentVNode("",!0):(e.openBlock(),e.createBlock(r._sfc_main,{key:2,animated:null==(t=e.unref(y).progressProps)?void 0:t.animated,precision:null==(n=e.unref(y).progressProps)?void 0:n.precision,"show-progress":null==(i=e.unref(y).progressProps)?void 0:i.showProgress,"show-value":null==(u=e.unref(y).progressProps)?void 0:u.showValue,striped:null==(d=e.unref(y).progressProps)?void 0:d.striped,variant:null==(c=e.unref(y).progressProps)?void 0:c.variant,max:h.value,value:e.unref(M),height:"4px"},null,8,["animated","precision","show-progress","show-value","striped","variant","max","value"]))],10,p),[[e.vShow,I.value]])]})),_:3},16,["appear"])):e.createCommentVNode("",!0)}}}),m={"top-start":"top-0 start-0","top-center":"top-0 start-50 translate-middle-x","top-end":"top-0 end-0","middle-start":"top-50 start-0 translate-middle-y","middle-center":"top-50 start-50 translate-middle","middle-end":"top-50 end-0 translate-middle-y","bottom-start":"bottom-0 start-0","bottom-center":"bottom-0 start-50 translate-middle-x","bottom-end":"bottom-0 end-0"},y=e.defineComponent({inheritAttrs:!1,__name:"BToastOrchestrator",props:{appendToast:{type:Boolean,default:!1},teleportDisabled:{type:Boolean,default:!1},teleportTo:{default:"body"}},setup(t,{expose:a}){const l=t,r=o.useDefaults(l,"BToastOrchestrator"),s=c.useToastController();return s._isOrchestratorInstalled.value=!0,e.watch((()=>r.appendToast),(e=>{s._isAppend.value=e}),{immediate:!0}),a({...s}),(o,t)=>(e.openBlock(),e.createBlock(d._sfc_main,{to:e.unref(r).teleportTo,disabled:e.unref(r).teleportDisabled},{default:e.withCtx((()=>[e.createElementVNode("div",e.mergeProps({id:"__BVID__toaster-container"},o.$attrs),[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(e.unref(m),((o,t)=>(e.openBlock(),e.createElementBlock("div",{key:t,class:e.normalizeClass([o,"toast-container position-fixed p-3"]),style:{width:"calc(var(--bs-toast-max-width, 350px) + 2 * 1rem)"}},[e.createVNode(e.TransitionGroup,{name:"b-list"},{default:e.withCtx((()=>{var o;return[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList((null==(o=e.unref(s).toasts)?void 0:o.value.filter((e=>e.position===t)))||[],(({_self:o,slots:t,promise:a,options:l,component:r,...s})=>(e.openBlock(),e.createElementBlock("span",{key:o},[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(r??v),e.mergeProps({ref_for:!0},s,{ref_for:!0,ref:e=>a.value.ref=e,"initial-animation":"","teleport-disabled":!0,onHide:e=>{var o,t;e.ok="ok"===e.trigger||"cancel"!==e.trigger&&null,null==(o=s.onHide)||o.call(s,e),e.defaultPrevented||(null==(t=a.stop)||t.call(a),(null==l?void 0:l.resolveOnHide)&&a.resolve(e))},onHidden:e=>{var o,t,r;e.ok="ok"===e.trigger||"cancel"!==e.trigger&&null,null==(o=s.onHidden)||o.call(s,e),e.defaultPrevented||((null==l?void 0:l.resolveOnHide)||a.resolve(e),(null==l?void 0:l.keep)||null==(r=(t=a.value).destroy)||r.call(t))}}),e.createSlots({_:2},[e.renderList(t,((o,t)=>({name:t,fn:e.withCtx((t=>[(e.openBlock(),e.createBlock(e.resolveDynamicComponent(o),e.mergeProps({ref_for:!0},t),null,16))]))})))]),1040,["onHide","onHidden"]))])))),128))]})),_:2},1024)],2)))),128))],16)])),_:1},8,["to","disabled"]))}});exports._sfc_main=v,exports._sfc_main$1=y;
//# sourceMappingURL=BToastOrchestrator.vue_vue_type_script_setup_true_lang-BeeqLafc.js.map
